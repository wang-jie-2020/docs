# 对象映射

## 深拷贝

JSON 或 内存序列化

```java
    public static <T, R> R deepCopy(T original) throws IOException, ClassNotFoundException {
        // 将对象写入流中
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        ObjectOutputStream out = new ObjectOutputStream(outputStream);
        out.writeObject(original);
        out.close(); // 关闭流以释放资源

        // 从流中读取对象并返回新对象实例的副本
        ByteArrayInputStream inputStream = new ByteArrayInputStream(outputStream.toByteArray());
        ObjectInputStream in = new ObjectInputStream(inputStream);
        return (R) in.readObject(); // 读取并返回新对象实例的副本
    }
```



## 浅拷贝

(1) Apache Commons BeanUtils

​	查资料不推荐

(2) Spring BeanUtils

​	BeanUtils.copyProperties(Object source, Object target);

(3) MapStruct
- 需要标记一个@Mapper作为配置源, 好处是编译时存在速度比较快, 参考automapper理解
- 支持添加额外的mapping

(4) ModelMapper
- 不需标记, 比较直观, 参考mapster理解
- 支持添加额外的mapping

注意以上都是浅拷贝, 简单的flat类型直接Utils, 嵌套类型引入包







