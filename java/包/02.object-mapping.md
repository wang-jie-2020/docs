# 对象映射



(1) Apache Commons BeanUtils

​	copyProperties(Object dest, Object orig)

(2) Spring BeanUtils

​	copyProperties(Object source, Object target)

(3) MapStruct
- 需要标记一个@Mapper作为配置源, 好处是编译时存在速度比较快, 参考automapper理解
- 支持添加额外的mapping

(4) ModelMapper
- 不需标记, 比较直观, 参考mapster理解
- 支持添加额外的mapping
- 同一个类的拷贝是类对象引用复制而不是深浅拷贝

以上都是浅拷贝

(5) JSON 或 内存序列化, 深拷贝

```java
public static <T, R> R deepCopy(T original) throws IOException, ClassNotFoundException {
    // 将对象写入流中
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(outputStream);
    out.writeObject(original);
    out.close(); 

    ByteArrayInputStream inputStream = new ByteArrayInputStream(outputStream.toByteArray());
    ObjectInputStream in = new ObjectInputStream(inputStream);
    return (R) in.readObject(); 
}
```









