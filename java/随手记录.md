## 枚举

1. final static
2. 私有构造,构造函数中可以带额外信息,有点struct的意思
3. ordinal 指的是顺序值,约束明显不强



## 接口

所有成员变量都默认是由public static final修饰

所有方法都默认是由public abstract修饰



## Binding注解

在不注解时,默认当URL参数处理;当然form表单会有额外;

|            |                              |
| ---------- | ---------------------------- |
| FromQuery  | RequestParam (~~PathParam~~) |
| FromRoute  | PathVariable                 |
| FromHeader | RequestHeader                |
| FromBody   | RequestBody                  |
| FromForm   | RequestParam 或缺省?         |

## HttpContext

通过请求参数中获取 Request 对象；  

```java
public void index(HttpServletRequest request) { }
```



通过 RequestContextHolder 获取 Request 对象；

	ServletRequestAttributes servletRequestAttributes = (ServletRequestAttributes)RequestContextHolder.getRequestAttributes();
	HttpServletRequest request = servletRequestAttributes.getRequest();


通过自动注入获取 Request 对象;

```java
@Autowired
private HttpServletRequest request; // 自动注入 request 对象
```



## 注解GET

```java
    public static void main(String[] args) throws NoSuchMethodException {
        Class<?> clazz = UserController.class;

        Annotation[] annotations1 = clazz.getAnnotations();
        Annotation[] annotations2 = clazz.getDeclaredAnnotations();

        System.out.println("annotations1 are:");
        Arrays.stream(annotations1).forEach(System.out::println);

        System.out.println("annotations2 are:");
        Arrays.stream(annotations2).forEach(System.out::println);

        Method[] methods = clazz.getDeclaredMethods();
        Arrays.stream(methods).forEach(method -> {
            Annotation[] methodAnnotations = method.getAnnotations();

            System.out.println(method.getName() + "() Annotations are:");
            Arrays.stream(methodAnnotations).forEach(item -> {
                System.out.println(item);
            });

            if (method.isAnnotationPresent(Aim.class)) {
                System.out.println(method.getName() + "包含AopTargetAnnotation");
            }
        });
    }
```



## 路径资源

```java
ClassUtils.getDefaultClassLoader().getResource("").getPath();
ResourceUtils.getURL("classpath:").getPath();

Class.class.getClass().getResource("/").getPath();
```

```java
ClassPathResource classPathResource = new ClassPathResource("extra.properties");

InputStream resourceAsStream = ClassUtils.getDefaultClassLoader().getResourceAsStream("extra.properties");
```



## Redis-Lua Script

```Lua
// 加锁脚本
private static final String SCRIPT_LOCK = "if redis.call('setnx', KEYS[1], ARGV[1]) == 1 then redis.call('pexpire', KEYS[1], ARGV[2]) return 1 else return 0 end";
// 解锁脚本
private static final String SCRIPT_UNLOCK = "if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end";
```



## http-helper

1. java.net.HttpURLConnection







Apache HttpClient

OkHttp

HttpClient(Java11)