## 单体版本

adim -

​	 | -- framework -- system -- common

​	 | -- quartz -- common

​	 | -- generator -- common



PageHelper 紧跟查询方法

PageHelper中Reasonable参数表示是否修正传入的页码和实际页码



@Transactional注解只能应用到public可见度的方法上，可以被应用于接口定义和接口方法，方法会覆盖类上面声明的事务。

因为`Spring`的默认的事务规则是遇到运行异常`（RuntimeException）`和程序错误`（Error）`才会回滚。如果想针对检查异常进行事务回滚，可以在`@Transactional`注解里使用 `rollbackFor`属性明确指定异常。如@Transactional(rollbackFor = Exception.class)

`Transactional`注解的常用属性表：

| 属性            | 说明                                                                        |
| ------------- | ------------------------------------------------------------------------- |
| propagation   | 事务的传播行为，默认值为 REQUIRED。                                                    |
| isolation     | 事务的隔离度，默认值采用 DEFAULT                                                      |
| timeout       | 事务的超时时间，默认值为-1，不超时。如果设置了超时时间(单位秒)，那么如果超过该时间限制了但事务还没有完成，则自动回滚事务。           |
| read-only     | 指定事务是否为只读事务，默认值为 false；为了忽略那些不需要事务的方法，比如读取数据，可以设置 read-only 为 true。       |
| rollbackFor   | 用于指定能够触发事务回滚的异常类型，如果有多个异常类型需要指定，各类型之间可以通过逗号分隔。{xxx1.class, xxx2.class,……} |
| noRollbackFor | 抛出 no-rollback-for 指定的异常类型，不回滚事务。{xxx1.class, xxx2.class,……}              |



`TransactionDefinition`传播行为的常量：

| 常量                                            | 含义                                                         |
| ----------------------------------------------- | ------------------------------------------------------------ |
| TransactionDefinition.PROPAGATION_REQUIRED      | 如果当前存在事务，则加入该事务；如果当前没有事务，则创建一个新的事务。这是默认值。 |
| TransactionDefinition.PROPAGATION_REQUIRES_NEW  | 创建一个新的事务，如果当前存在事务，则把当前事务挂起。       |
| TransactionDefinition.PROPAGATION_SUPPORTS      | 如果当前存在事务，则加入该事务；如果当前没有事务，则以非事务的方式继续运行。 |
| TransactionDefinition.PROPAGATION_NOT_SUPPORTED | 以非事务方式运行，如果当前存在事务，则把当前事务挂起。       |
| TransactionDefinition.PROPAGATION_NEVER         | 以非事务方式运行，如果当前存在事务，则抛出异常。             |
| TransactionDefinition.PROPAGATION_MANDATORY     | 如果当前存在事务，则加入该事务；如果当前没有事务，则抛出异常。 |
| TransactionDefinition.PROPAGATION_NESTED        | 如果当前存在事务，则创建一个事务作为当前事务的嵌套事务来运行；如果当前没有事务，则该取值等价于TransactionDefinition.PROPAGATION_REQUIRED。 |



模型校验

Xss  XssValidator



JOSN脱敏

基于`Jackson`拓展，@Sensitive，其他的脱敏策略根据自己的需求在`DesensitizedType.java`去定义，可以是方法，也可以是正则表达式。





数据权限

动态数据源



国际化支持





## 微服务版本

@RequiresPermissions





网关 路由转发、异常处理、限流、降级、接口、鉴权



配置文件加载的优先级（由高到低）
`bootstrap.properties ->bootstrap.yml -> application.properties -> application.yml`



动态数据源的实现基于 `AbstractRoutingDataSource`



InitializingBean			PermitAllUrlProperties



```
Jackson2ObjectMapperBuilderCustomizer
```



@MapperScan("com.ruoyi.**.mapper") 放在了ApplicationConfig中





i18n

I18nConfig





问题,只写了个类 继承或者实现某个接口,它会注册哪些Bean?