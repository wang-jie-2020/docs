(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{293:function(v,_,e){"use strict";e.r(_);var t=e(1),s=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"数组和切片"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数组和切片"}},[v._v("#")]),v._v(" 数组和切片")]),v._v(" "),_("h2",{attrs:{id:"数组"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数组"}},[v._v("#")]),v._v(" 数组")]),v._v(" "),_("p",[v._v("数组声明 "),_("code",[v._v("var identifier [len]type")])]),v._v(" "),_("p",[v._v("数组是==值==类型,这意味着传递数组时会有比较不同")]),v._v(" "),_("blockquote",[_("p",[v._v("如果函数需要操作数组,那么可能总是以切片表示更好?")])]),v._v(" "),_("p",[v._v("==todo== 通过"),_("code",[v._v("&")]),v._v("传递数组引用不需要再通过"),_("code",[v._v("*")]),v._v("转换? "),_("code",[v._v("例7.6 array_sum.go")])]),v._v(" "),_("h2",{attrs:{id:"切片"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#切片"}},[v._v("#")]),v._v(" 切片")]),v._v(" "),_("p",[v._v("切片声明 "),_("code",[v._v("var identifier []type")])]),v._v(" "),_("p",[v._v("切片是引用类型,更加类似于其他语言中的集合,它是数组的一个连续片段的引用")]),v._v(" "),_("p",[v._v("​\t"),_("code",[v._v("var slice1 []type = arr1[start:end]")])]),v._v(" "),_("p",[v._v("​\tslice1是由数组arr1从 "),_("code",[v._v("start")]),v._v(" 索引到 ==end-1== 索引之间的元素构成的子集")]),v._v(" "),_("p",[v._v("切片的长度 "),_("code",[v._v("len()")])]),v._v(" "),_("p",[v._v("切片的容量 "),_("code",[v._v("cap()")]),v._v(" --- 切片的长度 + 数组除切片之外的长度,也就是从 "),_("code",[v._v("start")]),v._v(" 索引到数组末尾")]),v._v(" "),_("p",[v._v("切片可以调整大小(切片重组 "),_("strong",[v._v("reslicing")]),v._v("),但必须满足新的start索引 >= 之前的start索引")]),v._v(" "),_("p",[_("code",[v._v("make()")]),v._v(" 初始化切片,方法签名："),_("code",[v._v("func make([]T, len, cap)")]),v._v("，其中 "),_("code",[v._v("cap")]),v._v(" 是可选参数")]),v._v(" "),_("p",[v._v("​\t"),_("code",[v._v("make([]int, 50, 100) == new([100]int)[0:50]")])]),v._v(" "),_("p",[v._v("​\t==todo== new() 和 make() 的区别有什么很大的影响?")]),v._v(" "),_("blockquote",[_("p",[_("code",[v._v("func copy(dst, src []T) int")]),v._v(" 方法将类型为 "),_("code",[v._v("T")]),v._v(" 的切片从源地址 "),_("code",[v._v("src")]),v._v(" 拷贝到目标地址 "),_("code",[v._v("dst")]),v._v("，覆盖 "),_("code",[v._v("dst")]),v._v(" 的相关元素，并且返回拷贝的元素个数。源地址和目标地址可能会有重叠。拷贝个数是 "),_("code",[v._v("src")]),v._v(" 和 "),_("code",[v._v("dst")]),v._v(" 的长度最小值。如果 "),_("code",[v._v("src")]),v._v(" 是字符串那么元素类型就是 "),_("code",[v._v("byte")]),v._v("。如果你还想继续使用 "),_("code",[v._v("src")]),v._v("，在拷贝结束后执行 "),_("code",[v._v("src = dst")]),v._v("。")]),v._v(" "),_("p",[_("code",[v._v("func append(s[]T, x ...T) []T")]),v._v(" 其中 "),_("code",[v._v("append()")]),v._v(" 方法将 0 个或多个具有相同类型 "),_("code",[v._v("s")]),v._v(" 的元素追加到切片后面并且返回新的切片；追加的元素必须和原切片的元素是同类型。如果 "),_("code",[v._v("s")]),v._v(" 的容量不足以存储新增元素，"),_("code",[v._v("append()")]),v._v(" 会分配新的切片来保证已有切片元素和新增元素的存储。因此，返回的切片可能已经指向一个不同的相关数组了。"),_("code",[v._v("append()")]),v._v(" 方法总是返回成功，除非系统内存耗尽了。")])]),v._v(" "),_("div",{staticClass:"language-go line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-go"}},[_("code",[_("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("for")]),v._v(" ix"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v(" value "),_("span",{pre:!0,attrs:{class:"token operator"}},[v._v(":=")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("range")]),v._v(" slice1 "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n\t"),_("span",{pre:!0,attrs:{class:"token operator"}},[v._v("...")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br"),_("span",{staticClass:"line-number"},[v._v("2")]),_("br"),_("span",{staticClass:"line-number"},[v._v("3")]),_("br")])]),_("p",[v._v("第一个返回值 "),_("code",[v._v("ix")]),v._v(" 是数组或者切片的索引，第二个是在该索引位置的值；他们都是仅在 "),_("code",[v._v("for")]),v._v(" 循环内部可见的局部变量。"),_("code",[v._v("value")]),v._v(" 只是 "),_("code",[v._v("slice1")]),v._v(" 某个索引位置的值的一个拷贝，不能用来修改 "),_("code",[v._v("slice1")]),v._v(" 该索引位置的值。")])])}),[],!1,null,null,null);_.default=s.exports}}]);