(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{460:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"埋点追踪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#埋点追踪"}},[t._v("#")]),t._v(" 埋点追踪")]),t._v(" "),s("p",[t._v("主要基于Vue框架查询埋点追踪的解决方案.")]),t._v(" "),s("p",[t._v("综合查询到的信息,主要包括:")]),t._v(" "),s("p",[t._v("1.不同的目的有不同的解决思路,对于UI的追踪实际上可以归到点击、浏览两个主题")]),t._v(" "),s("p",[t._v("2.针对以上两个主题实际上可以理解为事件埋点和曝光埋点")]),t._v(" "),s("p",[t._v("3.主要考虑埋点方案,可视化就pass了")]),t._v(" "),s("p",[t._v("4.产品化思路可参考百度统计,mixpanel的相关资料和介绍")]),t._v(" "),s("h2",{attrs:{id:"埋点的技术方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#埋点的技术方案"}},[t._v("#")]),t._v(" 埋点的技术方案")]),t._v(" "),s("p",[t._v("通常会直接pass对业务有侵入的,从解决手法上可以概括为声明式埋点和无埋点.")]),t._v(" "),s("p",[t._v("具体的东西还是交给专业的,这里大概描述而已")]),t._v(" "),s("h3",{attrs:{id:"指令式埋点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令式埋点"}},[t._v("#")]),t._v(" 指令式埋点")]),t._v(" "),s("p",[t._v("这种方式适合对于点击事件较为关注的情况,指的是以指定+参数的形式标记dom元素,事件触发时也就追踪到了")]),t._v(" "),s("p",[t._v("利用vue-directive相对还是较为容易的(vue-router也可以当作点)")]),t._v(" "),s("div",{staticClass:"language-vue line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("Vue.directive('track', {\n bind: (el, binding, vnode) => {\n    el.addEventListener('click', () => {\n      const data = binding.value;\n      console.log(data);\n    }, false);\n  }\n})\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-track")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{page:'customer',event:'focus'}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("测试"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("el-button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"无埋点-全埋点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无埋点-全埋点"}},[t._v("#")]),t._v(" 无埋点(全埋点)")]),t._v(" "),s("p",[t._v("通俗点说就是通过对DOM树监控,定时器等方式对整页追踪,产品型项目大都接入此种方式,主要目的是反推用户行为和交互习惯.B端项目中一般不会关注曝光度,C端项目比较多.")]),t._v(" "),s("p",[t._v("DOM树监控的技术实现"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Intersection Observer API"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("DOM的分析倒是和爬虫差不多,不多说了")]),t._v(" "),s("p",[t._v("较为经济的思路是将特定范围的元素埋点,类似于绑定class或者自定义属性")]),t._v(" "),s("p",[t._v("这种方案可能存在的问题是兼容性、重复曝光")])])}),[],!1,null,null,null);s.default=n.exports}}]);