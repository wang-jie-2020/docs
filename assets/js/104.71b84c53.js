(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{432:function(t,s,n){"use strict";n.r(s);var a=n(5),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/JayChristopher/p/9804353.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("地区编码"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("https://www.iana.org/time-zones")]),t._v(" "),s("p",[t._v("https://learn.microsoft.com/zh-cn/dotnet/api/system.timezoneinfo?view=net-9.0")]),t._v(" "),s("p",[t._v("故事的背景是海外推广，对于语言的国际化方式可以确定，对于日期的国际化方式拿捏不定：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("前端的时间要么是本地时间要么是UTC时间，无论是moment还是el-date都有方式，如果填写的不是时间而是日期？")])]),t._v(" "),s("li",[s("p",[t._v("保存DateTimeOffset --- 存储带时区的时间是最佳做法；保存DateTime --- 存储本地时间，再以约定显示")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("语言和时区捆绑 或 语言和时区不捆绑")])])]),t._v(" "),s("li",[s("ol",[s("li",[s("strong",[t._v("如果不捆绑，只需要考虑服务端传前端的的一次LOCAL转换，在WriteJson时将本地时间转为UTC或者目标系统时间即可满足")])]),t._v(" "),s("li",[s("strong",[t._v("如果捆绑，前端传递服务端时有一次LOCAL转换，服务端转前端时一次LOCAL转换")])])])])]),t._v(" "),s("h2",{attrs:{id:"datetime-vs-datetimeoffset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datetime-vs-datetimeoffset"}},[t._v("#")]),t._v(" DateTime vs DateTimeOffset")]),t._v(" "),s("p",[t._v("DateTimeOffset = DateTime + TimeZone")]),t._v(" "),s("p",[t._v("DateTime -> DateTimeOffset , Local and Unspecified are both treated as Local  --- 通过构造函数可以看到的注释")]),t._v(" "),s("p",[t._v("某种程度上不必纠结，直接可以将时间当作系统"),s("code",[t._v("本地时间")]),t._v("考虑，只是在转换时的附加方法或者参数不一样")]),t._v(" "),s("h3",{attrs:{id:"数据库中的datetime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库中的datetime"}},[t._v("#")]),t._v(" 数据库中的DateTime")]),t._v(" "),s("p",[t._v("不包含时区概念，也不含UTC和LOCAL，直接保存。")]),t._v(" "),s("h3",{attrs:{id:"datetimeoffset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datetimeoffset"}},[t._v("#")]),t._v(" DateTimeOffset")]),t._v(" "),s("ul",[s("li",[t._v("MySQL    \ttimestamp（和session的时区相关，测试时未附加Timezone）")]),t._v(" "),s("li",[t._v("SQLServer    \tDateTimeOffset")]),t._v(" "),s("li",[t._v("Oracle    \t\ttimestamp with time zone")])]),t._v(" "),s("div",{staticClass:"language-csharp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" r "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("DateTimeOffsetDemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Time11 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" DateTimeOffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Now"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Time12 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" DateTimeOffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UtcNow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Time13 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DateTimeOffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Now"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("US"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Time14 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DateTimeOffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UtcNow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("US"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n_msSqlContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeOffsetDemos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n_msSqlContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SaveChanges")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _msSqlContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeOffsetDemos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("OrderBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Last")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" o "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Time11 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time11 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("NullReferenceException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Time12 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time12 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("NullReferenceException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    Time13 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time13 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("NullReferenceException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Time14 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TimeZoneInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTimeBySystemTimeZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time14 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("NullReferenceException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZoneConst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("MYSQL")]),t._v(" "),s("th",[t._v("MSSQL")]),t._v(" "),s("th",[t._v("ORACLE")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("LOCAL-NOW（+8）")]),t._v(" "),s("td",[t._v("+0")]),t._v(" "),s("td",[t._v("+8")]),t._v(" "),s("td",[t._v("+8")])]),t._v(" "),s("tr",[s("td",[t._v("UTC-NOW（+0）")]),t._v(" "),s("td",[t._v("+0")]),t._v(" "),s("td",[t._v("+0")]),t._v(" "),s("td",[t._v("+0")])]),t._v(" "),s("tr",[s("td",[t._v("US-NOW（-5）")]),t._v(" "),s("td",[t._v("+0")]),t._v(" "),s("td",[t._v("-5")]),t._v(" "),s("td",[t._v("-5")])])])]),t._v(" "),s("p",[t._v("区别在于在session中的时区会影响到最终的查询结果，但Timing都是一样的。")]),t._v(" "),s("h2",{attrs:{id:"模型绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模型绑定"}},[t._v("#")]),t._v(" 模型绑定")]),t._v(" "),s("p",[t._v("mvcOptions.ModelBinderProviders：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736753857206-28423e14-0ffc-4149-9229-0969523e3b8c.png",alt:"img"}})]),t._v(" "),s("p",[t._v("未进行修改的情况下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("Query")]),t._v(" "),s("th",[t._v("Form")]),t._v(" "),s("th",[t._v("Body（NewtonSoftJson影响?）")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2025-01-13T04:59:38.502Z")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502Z")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502Z")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502Z")])]),t._v(" "),s("tr",[s("td",[t._v("2025-01-13T04:59:38.502+00:00")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502Z")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502Z")]),t._v(" "),s("td",[t._v("2025-01-13T12:59:38.502+08:00")])]),t._v(" "),s("tr",[s("td",[t._v("2025-01-13T04:59:38.502")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502")]),t._v(" "),s("td",[t._v("2025-01-13T04:59:38.502")])])])]),t._v(" "),s("ul",[s("li",[t._v("FromQuery、FromForm")])]),t._v(" "),s("p",[t._v("从DateTimeModelBinderProvider中得到DateTimeModelBinder，DateTime.TryParse")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754188725-770a8f56-bb51-40bf-824b-df2bdf9cb767.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754229749-e2a65fba-8d77-4e78-a7de-acc7a95fdc3f.png",alt:"img"}})]),t._v(" "),s("ul",[s("li",[t._v("FromBody")])]),t._v(" "),s("p",[t._v("从BodyModelBinderProvider中得到BodyModelBinder，通过注册的IInputFormatter尝试转换，如果附加了NewtonsoftJson则相应的处理就是")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754567733-4058da1e-f1e8-4a57-af52-7c3ee36ddc5f.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754667367-1cca4720-c9ba-4d48-b9c5-2707e4be7b49.png",alt:"img"}})]),t._v(" "),s("p",[t._v("NET6中的测试结果：")]),t._v(" "),s("ul",[s("li",[t._v("FromQuery、FromForm 的DateTime的KIND要么是UTC要么是Unspecified")]),t._v(" "),s("li",[t._v("FromBody 的DateTime的KIND随序列化参数而不同")])]),t._v(" "),s("h2",{attrs:{id:"newtonsoftjson结构化输出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#newtonsoftjson结构化输出"}},[t._v("#")]),t._v(" NewtonsoftJson结构化输出")]),t._v(" "),s("p",[t._v("https://www.newtonsoft.com/json/help/html/SerializationSettings.htm")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754845475-d7c40e9f-1740-464c-8919-bc774a868b3a.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2025/png/1294764/1736754904117-f5d25a6e-f557-46cb-bac8-2c00814b4419.png",alt:"img"}})]),t._v(" "),s("ul",[s("li",[t._v("DateFormatHandling")]),t._v(" "),s("li",[t._v("DateFormatString")]),t._v(" "),s("li",[t._v("DateParseHandling")]),t._v(" "),s("li",[t._v("DateTimeZoneHandling")])]),t._v(" "),s("p",[t._v("DateTimeOffset类型在Json序列化时的表现始终一致，DateTime类型在JSON序列化时的不同表现（在不指定DateFormatString的前提下）")]),t._v(" "),s("p",[s("code",[t._v("var r = new DateTimeDto { DateTimeNow = new DateTime(2025, 1, 10, 9, 0, 0, DateTimeKind.Local), DateTimeUtcNow = new DateTime(2025, 1, 10, 1, 0, 0, DateTimeKind.Utc), DateTimeUnspecified = new DateTime(2025, 1, 10, 9, 0, 0, DateTimeKind.Unspecified), }; var jsonLocal = JsonConvert.SerializeObject(r, new JsonSerializerSettings() { DateTimeZoneHandling = DateTimeZoneHandling.Local }); var jsonUtc = JsonConvert.SerializeObject(r, new JsonSerializerSettings() { DateTimeZoneHandling = DateTimeZoneHandling.Utc }); var jsonUnspecified = JsonConvert.SerializeObject(r, new JsonSerializerSettings() { DateTimeZoneHandling = DateTimeZoneHandling.Unspecified }); var jsonRoundtripKind = JsonConvert.SerializeObject(r, new JsonSerializerSettings() { DateTimeZoneHandling = DateTimeZoneHandling.RoundtripKind });")]),t._v("LocalUtcUnspecifiedRoundtripKindDateTime(2025, 1, 10, 9, 0, 0, DateTimeKind.Local)2025-01-10T09:00:00+08:002025-01-10T01:00:00Z2025-01-10T09:00:002025-01-10T09:00:00+08:00DateTime(2025, 1, 10, 1, 0, 0, DateTimeKind.Utc)2025-01-10T09:00:00+08:002025-01-10T01:00:00Z2025-01-10T01:00:002025-01-10T01:00:00Znew DateTime(2025, 1, 10, 9, 0, 0, DateTimeKind.Unspecified)2025-01-10T09:00:00+08:002025-01-10T09:00:00Z2025-01-10T09:00:002025-01-10T09:00:00")]),t._v(" "),s("p",[t._v("Unspecified 的 DateTime 以及 JSON枚举，相当于不会对其转换。")])])}),[],!1,null,null,null);s.default=e.exports}}]);