(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{360:function(t,e,a){"use strict";a.r(e);var s=a(5),_=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("大小写敏感问题:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("数据库/表名")]),t._v("：默认不敏感, 且默认都会转大写")]),t._v(" "),e("li",[e("strong",[t._v("数据内容")]),t._v("：默认敏感")])]),t._v(" "),e("p",[t._v("虽然Oracle默认区分大小写，但有一个"),e("strong",[t._v("会话级参数 "),e("code",[t._v("NLS_COMP")]),t._v(" 和 "),e("code",[t._v("NLS_SORT")])]),t._v(" 可以在当前连接中临时改变这一行为。")]),t._v(" "),e("div",{staticClass:"language-plsql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plsql"}},[e("code",[t._v("# 查看当前设置\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" SYS_CONTEXT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'USERENV'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NLS_COMP'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" NLS_COMP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       SYS_CONTEXT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'USERENV'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NLS_SORT'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" NLS_SORT\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" DUAL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" SESSION "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" NLS_COMP "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" LINGUISTIC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" SESSION "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" NLS_SORT "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BINARY_CI"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- `_CI` 后缀表示 Case-Insensitive")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 设置后，当前会话中的字符串比较将不区分大小写")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" users "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" username "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 现在可以查到 'Admin'")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),e("div",{staticClass:"language-SQL line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" V$"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SESSION")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 允许最大进程数、连接数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" v$parameter "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processes'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sessions'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 当前进程数、连接数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" v$"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("session")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" v$process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\nIDLE_TIME：限制每个会话所允许的最长连续空闲时间，超过这个时间会话将自动断开。（参数值是一个整数，单位是分钟，UNLIMITED 不限制）\nCONNECT_TIME：限制指定会话的总运行时间限制，超过这个时间会话将自动断开。（参数值是一个整数，单位是分钟，UNLIMITED 不限制）\n*/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" resource_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("resource_type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LIMIT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dba_profiles "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" resource_Name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IDLE_TIME'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CONNECT_TIME'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" PROFILE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DEFAULT'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 修改空闲超时时间10分钟")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" PROFILE "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LIMIT")]),t._v(" IDLE_TIME "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h2",{attrs:{id:"函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类别")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("核心功能")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("官方文档（Oracle 19c）")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("单行函数")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对每一行数据操作并返回一个结果，包含字符、数值、日期、转换等。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Functions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQL Functions"),e("OutboundLink")],1)])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("聚合函数")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对多行数据进行汇总计算，返回单个统计值。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Aggregate-Functions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Aggregate Functions"),e("OutboundLink")],1)])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("分析函数")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("在分组基础上，对组内数据进行排序、排名、移动计算等高级分析。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Analytic-Functions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Analytic Functions"),e("OutboundLink")],1)])])])]),t._v(" "),e("h3",{attrs:{id:"_1-1-字符函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-字符函数"}},[t._v("#")]),t._v(" 1.1 字符函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("UPPER(str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将字符串转换为大写。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("UPPER('hello')")]),t._v(" → "),e("code",[t._v("'HELLO'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LOWER(str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将字符串转换为小写。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LOWER('HELLO')")]),t._v(" → "),e("code",[t._v("'hello'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("INITCAP(str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("使每个单词的首字母大写。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("INITCAP('hello world')")]),t._v(" → "),e("code",[t._v("'Hello World'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("CONCAT(str1, str2)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("连接两个字符串。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("CONCAT('A', 'B')")]),t._v(" → "),e("code",[t._v("'AB'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("SUBSTR(str, start, [len])")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("从 "),e("code",[t._v("start")]),t._v(" 位置（从1开始计数）截取子串，"),e("code",[t._v("len")]),t._v(" 指定长度。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("SUBSTR('Hello', 2, 3)")]),t._v(" → "),e("code",[t._v("'ell'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LENGTH(str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回字符串的字符长度。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LENGTH('Hello')")]),t._v(" → "),e("code",[t._v("5")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("INSTR(str, substr)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回子串 "),e("code",[t._v("substr")]),t._v(" 在字符串 "),e("code",[t._v("str")]),t._v(" 中首次出现的位置。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("INSTR('Hello', 'e')")]),t._v(" → "),e("code",[t._v("2")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TRIM([LEADING|TRAILING|BOTH] 'c' FROM str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("去除字符串首尾的指定字符（默认为空格）。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TRIM(' Hello ')")]),t._v(" → "),e("code",[t._v("'Hello'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LTRIM(str)")]),t._v(" / "),e("code",[t._v("RTRIM(str)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("去除字符串左侧/右侧的空格。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LTRIM(' Hello')")]),t._v(" → "),e("code",[t._v("'Hello'")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LPAD(str, len, 'c')")]),t._v(" / "),e("code",[t._v("RPAD(str, len, 'c')")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将字符串用指定字符向左/右填充至指定长度 "),e("code",[t._v("len")]),t._v("。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LPAD('Hi', 5, '*')")]),t._v(" → "),e("code",[t._v("'***Hi'")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-2-数值函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-数值函数"}},[t._v("#")]),t._v(" 1.2 数值函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("ROUND(n, [m])")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("四舍五入。"),e("code",[t._v("m")]),t._v(" 为正数则保留 "),e("code",[t._v("m")]),t._v(" 位小数，为负数则对小数点前 "),e("code",[t._v("abs(m)")]),t._v(" 位进行四舍五入。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ROUND(457.628, 2)")]),t._v(" → "),e("code",[t._v("457.63")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TRUNC(n, [m])")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("截断数值。"),e("code",[t._v("m")]),t._v(" 为正数则保留 "),e("code",[t._v("m")]),t._v(" 位小数，为负数则将小数点前 "),e("code",[t._v("abs(m)")]),t._v(" 位替换为0。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TRUNC(457.628, -1)")]),t._v(" → "),e("code",[t._v("450")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("CEIL(n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("向上取整，返回大于等于 "),e("code",[t._v("n")]),t._v(" 的最小整数。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("CEIL(3.2)")]),t._v(" → "),e("code",[t._v("4")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("FLOOR(n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("向下取整，返回小于等于 "),e("code",[t._v("n")]),t._v(" 的最大整数。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("FLOOR(3.9)")]),t._v(" → "),e("code",[t._v("3")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("ABS(n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回绝对值。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ABS(-10)")]),t._v(" → "),e("code",[t._v("10")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("MOD(m, n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回 "),e("code",[t._v("m")]),t._v(" 除以 "),e("code",[t._v("n")]),t._v(" 的余数。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("MOD(10, 3)")]),t._v(" → "),e("code",[t._v("1")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("POWER(m, n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回 "),e("code",[t._v("m")]),t._v(" 的 "),e("code",[t._v("n")]),t._v(" 次幂。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("POWER(2, 3)")]),t._v(" → "),e("code",[t._v("8")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("SQRT(n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回平方根。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("SQRT(9)")]),t._v(" → "),e("code",[t._v("3")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-3-日期函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-日期函数"}},[t._v("#")]),t._v(" 1.3 日期函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("SYSDATE")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回当前数据库服务器的系统日期和时间。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("SELECT SYSDATE FROM dual;")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("ADD_MONTHS(date, n)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("为日期增加（或减少，"),e("code",[t._v("n")]),t._v("为负）"),e("code",[t._v("n")]),t._v(" 个月。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ADD_MONTHS(SYSDATE, 1)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("MONTHS_BETWEEN(date1, date2)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回两个日期之间相差的月数（可为小数）。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("MONTHS_BETWEEN('2023-12-31', '2023-01-01')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LAST_DAY(date)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回指定日期所在月份的最后一天。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LAST_DAY(SYSDATE)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TRUNC(date, [format])")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("截断日期。"),e("code",[t._v("format")]),t._v(" 如 "),e("code",[t._v("'YYYY'")]),t._v("、"),e("code",[t._v("'MM'")]),t._v("、"),e("code",[t._v("'DD'")]),t._v("，分别截断到年初、月初、日初。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TRUNC(SYSDATE, 'MM')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("ROUND(date, [format])")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对日期进行四舍五入。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ROUND(SYSDATE, 'YYYY')")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-4-转换函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-转换函数"}},[t._v("#")]),t._v(" 1.4 转换函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TO_CHAR(date, 'format')")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将日期按指定格式转换为字符串。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TO_CHAR(SYSDATE, 'YYYY-MM-DD')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TO_CHAR(number, 'format')")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将数字按指定格式转换为字符串。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TO_CHAR(55676, '99,999')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TO_DATE(char, 'format')")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将字符串按指定格式转换为日期。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TO_DATE('2023-01-01', 'YYYY-MM-DD')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("TO_NUMBER(char, 'format')")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将字符串转换为数字。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("TO_NUMBER('123.45')")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-5-通用与条件函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-通用与条件函数"}},[t._v("#")]),t._v(" 1.5 通用与条件函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("NVL(expr1, expr2)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("若 "),e("code",[t._v("expr1")]),t._v(" 为 "),e("code",[t._v("NULL")]),t._v("，则返回 "),e("code",[t._v("expr2")]),t._v("，否则返回 "),e("code",[t._v("expr1")]),t._v("。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("NVL(comm, 0)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("COALESCE(expr1, expr2, ..., exprn)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回参数列表中第一个非 "),e("code",[t._v("NULL")]),t._v(" 的值。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("COALESCE(comm, bonus, 0)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("DECODE(expr, search1, result1, ..., default)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("类似于简单的 "),e("code",[t._v("CASE")]),t._v("，若 "),e("code",[t._v("expr")]),t._v(" 等于 "),e("code",[t._v("search1")]),t._v(" 则返回 "),e("code",[t._v("result1")]),t._v("，以此类推，否则返回默认值。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("DECODE(status, 'A', '激活', 'I', '失效', '未知')")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("CASE ... WHEN ... THEN ... END")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("条件判断，功能比 "),e("code",[t._v("DECODE")]),t._v(" 更强大。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("CASE WHEN score >= 90 THEN '优秀' END")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-4-分析函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-分析函数"}},[t._v("#")]),t._v(" 1.4 分析函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("功能描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("简单示例（假设按部门"),e("code",[t._v("dept_id")]),t._v("分区，按薪水"),e("code",[t._v("salary")]),t._v("排序）")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("ROW_NUMBER()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("为组内的每一行分配一个唯一的连续序号。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ROW_NUMBER() OVER(PARTITION BY dept_id ORDER BY salary DESC)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("RANK()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("分配排名，并列时会留下空位（如：1, 2, 2, 4）。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("RANK() OVER(PARTITION BY dept_id ORDER BY salary DESC)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("DENSE_RANK()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("分配排名，并列时不留空位（如：1, 2, 2, 3）。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("DENSE_RANK() OVER(PARTITION BY dept_id ORDER BY salary DESC)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("SUM(col) OVER(...)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("计算组内累计和、移动平均等。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("SUM(salary) OVER(PARTITION BY dept_id ORDER BY hire_date)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("AVG(col) OVER(...)")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("计算组内移动平均值。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("AVG(salary) OVER(PARTITION BY dept_id ORDER BY hire_date ROWS 2 PRECEDING)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[e("code",[t._v("LAG(col, n)")])]),t._v(" / "),e("code",[t._v("LEAD(col, n)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("访问组内当前行之前（"),e("code",[t._v("LAG")]),t._v("）或之后（"),e("code",[t._v("LEAD")]),t._v("）第 "),e("code",[t._v("n")]),t._v(" 行的数据。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("LAG(salary, 1) OVER(PARTITION BY dept_id ORDER BY hire_date)")])])])])]),t._v(" "),e("h3",{attrs:{id:"_1-5-补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-补充"}},[t._v("#")]),t._v(" 1.5 补充")]),t._v(" "),e("p",[e("strong",[t._v("cast(expr AS type_name):")]),t._v(" 用于将某种数据类型的数据显式转换为另一种数据类型的数据。")]),t._v(" "),e("p",[e("strong",[t._v("row_number() over (partition by col1 order by col2) :")]),t._v(" 表示根据col1分区，在分组内部根据 col2排序，而这个值就表示每组内部排序后的")])])}),[],!1,null,null,null);e.default=_.exports}}]);