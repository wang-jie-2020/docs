(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{349:function(s,n,a){"use strict";a.r(n);var e=a(4),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h4",{attrs:{id:"filebeat-日志接入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#filebeat-日志接入"}},[s._v("#")]),s._v(" filebeat 日志接入")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("filebeat.inputs：指定要收集的日志文件列表。\ntype: log：指定输入类型为日志。\nenabled: true：启用该输入。\n\nmultiline.pattern：正则表达式，匹配日志行开始的日期格式 （根据自己实际情况而定）\nmultiline.negate： # true，不匹配 pattern 的行合并到上一行；false，匹配 pattern 的行合并到上一行。默认为 false\nmultiline.match：取值为after或before，表示匹配到的这一行日志是合并到上一条日志还是下一条日志，若为after，这将匹配到当行日志合并到上一行日志后面作为一条日志；若为before，这合并到下一行日志前面作为一条日志\npaths：指定要收集的日志文件路径列表。\n\nfields：指定自定义字段。\nservice_name：指定服务名称（根据自己的项目名称确定，如果你的项目名称叫ttp 即写tpp）\noutput.kafka：指定将日志发送到Kafka的配置\nhosts：指定Kafka的主机列表。\ntopic：指定要发送到的Kafka主题\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("单项目日志接入 ：以mes_interface项目为例（根据自己项目实际情况而定）：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("filebeat.inputs:\n- type: log\n  enabled: true\n  multiline.pattern: '\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2}.\\d{3}'\n  multiline.negate: true\n  multiline.match: after\n  paths:\n    - /app/logs/xxx/*info.log\n    - /app/logs/xxx/*info.log\n  fields:\n    service_name: mes_interface\noutput.kafka:\n  hosts: [\"\"]\n  topic: 'xxxxx'\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("多项目日志接入：以mes_interface和mes_operation为例（根据自己项目实际情况而定）：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("filebeat.inputs:\n- type: log\n  enabled: true\n  multiline.pattern: '\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2}.\\d{3}'\n  multiline.negate: true\n  multiline.match: after\n  paths:\n    - /app/logs/xxx/*info.log\n    - /app/logs/xxx/*info.log\n  fields:\n    service_name: xxx\n- type: log\n  enabled: true\n  paths:\n    - /app/logs/xxx/*info.log\n    - /app/logs/xxx/*info.log\n  fields:\n    service_name: xxx\noutput.kafka:\n  hosts:\n  topic: \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);